<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="./favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BTX Face</title>
  <style>
    #loading {
      display: block;
      opacity: 1.0;
      background-color: #FFFFFF;

      position: fixed;
      z-index: 10000;

      top: 0px;
      right: 0px;
      bottom: 0px;
      left: 0px;
    }

    #loading.anim {
      animation: hide 0.5s;
    }

    #loading.hide {
      display: none;
      opacity: 0.0;
      background-color: #EEEEEE;
    }

    @keyframes hide {
      0% {
        display: block;
        opacity: 1.0;
        background-color: #EEEEEE;
      }

      100% {
        display: none;
        opacity: 0.0;
        background-color: #EEEEEE;
      }
    }
  </style>
</head>

<body>
  <div id="loading">
    <div class="load" style="display: none;">
      <img class="image" rel="preload" src="./img/loadingScreen.png" />

      <h1> BTX Face </h1>

      <div id="loading-group" class="loading-group">
        <h4> Loading... <span id="loading-percentage"> 0 </span> % </span> </h4>
        <progress id="loading-progress" value="0" max="140"> </progress>
      </div>

      <div id="loading-error" class="loading-error hide">
        Error:
        <br />
        <span id="loading-error-message"></span>
      </div>
    </div>
  </div>
  <div id="app">
    <div class="nav">
      <div class="group group-select grow marg">
        <label> Conditions </label>
        <select id="select-conditions">
          <option value=""> No condition selected </option>
        </select>
      </div>

      <div class="group group-select grow marg">
        <div class="flex-row">
          <label class="grow"> Muscles </label>
          <label for="input-all" class="label" title="Show all available muscles"> <input id="input-all"
              type="checkbox" /> All? </label>

        </div>
        <select id="select-muscles" class="hide">
          <option value=""> All muscles </option>
        </select>
      </div>

      <div class="group group-sides marg">
        <label> Hide <span id="side-name">Muscles</span></label>
        <div id="group-btn-sides" class="group-row">
          <div id="btn-side-left" class="btn btn-marg" title="Hide left muscle"> L </div>
          <div id="btn-side-right" class="btn" title="Hide right muscle"> R </div>
        </div>
      </div>

      <div id="group-move" class="group group-move marg" title="Toggle to move muscles">
        <label for="input-move" class="label"> <input id="input-move" type="checkbox" /> Move </label>
      </div>

      <!-- <div class="group group-grow">
        <div id="btn-overlay" class="btn btn-overlay" title="Hide/Show Muscle, Condition, Scale overlays"> Overlay </div>
      </div> -->

      <div class="group group-grow">
        <div id="btn-reset" class="btn btn-reset" title="Reset condition and all muscles"> Reset </div>
      </div>

      <div class="group group-end">
        <div id="btn-help" class="btn btn-help"> ? </div>
      </div>
    </div>




    <div id="container" class="container">

    </div>

    <div id="overlay" class="overlay">

      <div id="overlay-help" class="overlay-help">
        <div class="help-parent">
          <h3> Welcome to BnTx Data Stream </h3>

          <p>
            With thousands of treatment sessions captured, we are able to provide a 3D model of the Head and Neck that
            will display average doses per muscle, per condition, for cases in the BnTx Data Repository.
          </p>
          <p>
            The programming allows you to manipulate the image, removing and clicking on muscles to reveal the
            percentage-of-sessions injected, and dose for the main botulinum toxin preparations.
          </p>
          <p>
            Please see the instructions below on how to navigate the 3D model and view data from different conditions.
          </p>

          <div class="section">
            <img class="icon" rel="preload" src="./img/mouse-left.svg" />
            <div>
              <h3> Rotating the model </h3>
              <ul>
                <li> Choose a place on the screen slightly away from the model </li>
                <li> Click and hold down the left click button </li>
                <li> Move your mouse in the direction you wish the model to move </li>
                <li> Side to side is left to right </li>

              </ul>
            </div>
          </div>

          <div class="section">
            <img class="icon" rel="preload" src="./img/mouse-right.svg" />
            <div>
              <h3> Moving the model </h3>
              <ul>
                <li> Choose a place on the screen slightly away from the model
                </li>
                <li> Click and hold down the left click button
                </li>
                <li>Move your mouse in the direction you wish the model to move
                </li>
                <li> Side to side is left to right
                </li>
              </ul>
            </div>
          </div>

          <div class="section">
            <img class="icon" rel="preload" src="./img/mouse-click.svg" />
            <div>
              <h3> Selecting a muscle </h3>
              <ul>
                <li> Choose the muscle on the model
                </li>
                <li> Click the left mouse button
                </li>
                <li> Details about the muscle will appear in the top right hand corner
                </li>
                <li> If a condition is selected this will show the data for the muscle when injected for the condition
                </li>


              </ul>
              <img class="image" rel="preload" src="./img/muscle-select.png" />

            </div>
          </div>

          <div class="section">
            <img class="" rel="preload" src="./img/condition-dropdown.png" />
            <div>
              <h3> Displaying the national data </h3>
              <ul>
                <li> In the top left corner select conditions
                </li>
                <li> Click the condition you wish to populate the model with
                </li>
                <li> The model will change colours with the muscle color being represented by the frequency of
                  injection, see below.
                </li>



              </ul>
              <img class="image" rel="preload" src="./img/condition-select.png" />

            </div>
          </div>

          <div class="section">
            <img class="" rel="preload" src="./img/muscle-dropdown.png" />
            <div>
              <h3> Select a muscle from the menu </h3>
              <ul>
                <li> When condition is selected the muscles list will populate with only the muscle injected when the
                  patient has that condition
                </li>
                <li> Clicking on a muscle will make the other muscle transparent
                </li>



              </ul>
              <img class="image" rel="preload" src="./img/muscle-select2.png" />

            </div>
          </div>

          <div class="section">
            <img class="" rel="preload" src="./img/move-check.png" />
            <div>
              <h3> Moving a muscle </h3>
              <ul>
                <li> Clicking on the move checkbox in the header section
                </li>
                <li> Click on a muscle
                </li>
                <li> Holding the left click button down move the mouse and the muscle will follow
                </li>
              </ul>
              <!-- <img class="image" rel="preload" src="./img/mouse-left.svg" /> -->
            </div>
          </div>

          <div class="center">
            <div id="btn-help-close" class="btn btn-help"> Close </div>
          </div>
        </div>

      </div>

      <div id="overlay-move" class="overlay-move">
        <div class="move-parent">
          Camera locked
          <br />
          Move muscles
        </div>
      </div>

      <div id="overlay-scale" class="overlay-scale">
        <div class="scale-parent">
          <div id="meta-scale-min" class="scale-min"> </div>
          <div class="scale-colour"> </div>
          <div id="meta-scale-max" class="scale-max"> </div>
        </div>
      </div>

      <div id="overlay-muscle" class="overlay-muscle">
        <p id="meta-muscle" class="muscle-name"></p>
        <!-- <span id="meta-side" class="muscle-side"></span> -->
        <div class="flex-row">
          <div class="flex-text">
            <b> Injected in <span id="meta-muscle-injected"></span>% of sessions </b>
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-text"> Botox,
            <span id="meta-muscle-botox"></span> units,
            <span id="meta-muscle-botox-sessions"></span> sites per session
          </div>
        </div>
        <div class="flex-row">
          <div class="flex-text"> Dysport,
            <span id="meta-muscle-dysport"></span> units,
            <span id="meta-muscle-dysport-sessions"></span> sites per session
          </div>
        </div>
      </div>

      <div id="overlay-misc" class="overlay-muscle overlay-misc">
        <p id="meta-misc" class="misc-name"></p>

      </div>

      <div id="overlay-condition" class="overlay-condition">
        <p id="meta-condition" class="condition-name"> - </p>
        <div class="flex-row">
          <div class="flex-text"> Number of patients </div>
          <div class="flex-value"><span id="meta-condition-patients"></span></div>
        </div>
        <div class="flex-row">
          <div class="flex-text"> Number of sessions </div>
          <div class="flex-value"><span id="meta-condition-sessions"></span></div>
        </div>
        <div class="flex-row">
          <div class="flex-text"> Average Age </div>
          <div class="flex-value"><span id="meta-condition-age"></span></div>
        </div>
        <div class="flex-row">
          <div class="flex-text"> Percentage Male </div>
          <div class="flex-value"><span id="meta-condition-male"></span>%</div>
        </div>
        <div class="flex-row">
          <div class="flex-text"> Percentage Female </div>
          <div class="flex-value"><span id="meta-condition-female"></span>%</div>
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="/main.js"></script>
</body>

</html>